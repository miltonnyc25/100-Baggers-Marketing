# å°çº¢ä¹¦è§†é¢‘å‘å¸ƒ Skill

## æ¦‚è¿°
å¤„ç† NotebookLM ç”Ÿæˆçš„è§†é¢‘ï¼Œæ·»åŠ ä¸­è‹±åŒè¯­å­—å¹•å’Œ Logo æ°´å°ï¼Œå‘å¸ƒåˆ°å°çº¢ä¹¦ã€‚

---

## ğŸš€ æ¨èæ–¹å¼ï¼šä½¿ç”¨ Python è„šæœ¬å‘å¸ƒ

**æœ€å¯é çš„å‘å¸ƒæ–¹å¼æ˜¯ä½¿ç”¨ä¸“é—¨çš„ Python è„šæœ¬ï¼š**

```bash
# ä½¿ç”¨ venv ç¯å¢ƒè¿è¡Œ
/Users/xuemeizhao/Downloads/add-caption/venv/bin/python \
  ~/clawd/skills/xiaohongshu-publish/xhs_publisher.py \
  ~/clawd/newsletters/YYYY-MM-DD-video-with-subs.mp4 \
  ~/clawd/newsletters/YYYY-MM-DD-cover-xhs.jpg \
  ~/clawd/newsletters/YYYY-MM-DD-xhs-post.md
```

**è„šæœ¬ç‰¹æ€§ï¼š**
- âœ… è‡ªåŠ¨æ³¨å…¥ stealth.min.js åæ£€æµ‹
- âœ… è‡ªåŠ¨ä¸Šä¼ é¢„ç”Ÿæˆçš„å°é¢ï¼ˆ3:4 æ¯”ä¾‹ï¼‰
- âœ… è‡ªåŠ¨è¯»å– xhs-post.md å¡«å……æ­£æ–‡
- âœ… è‡ªåŠ¨å¤„ç† Shepherd æ–°æ‰‹å¼•å¯¼å¼¹çª—
- âœ… å¤šç§å‘å¸ƒæŒ‰é’®ç‚¹å‡»æ–¹æ³•ï¼ˆç›´æ¥/JS/Reactï¼‰
- âœ… è‡ªåŠ¨ä¿å­˜å’ŒåŠ è½½ cookies
- âœ… 6 æ¬¡é‡è¯•æœºåˆ¶

**å‚æ•°è¯´æ˜ï¼š**
| å‚æ•° | è¯´æ˜ |
|------|------|
| video_path | å¸¦å­—å¹•çš„è§†é¢‘æ–‡ä»¶ |
| cover_path | **é¢„ç”Ÿæˆçš„å°é¢å›¾** (YYYY-MM-DD-cover-xhs.jpg) |
| post_md_path | **æ–‡æ¡ˆæ–‡ä»¶** (YYYY-MM-DD-xhs-post.md) |
| --headless | å¯é€‰ï¼Œæ— å¤´æ¨¡å¼ï¼ˆä¸æ˜¾ç¤ºæµè§ˆå™¨ï¼‰ |

---

## âš ï¸ é‡è¦è§„åˆ™ï¼ˆå¿…è¯»ï¼‰

1. **ä¸è¦é‡å¤ç”Ÿæˆè§†é¢‘ï¼** å·²ç”Ÿæˆè¿‡ Video Overview çš„ç¬”è®°æœ¬ï¼Œç›´æ¥ä¸‹è½½å³å¯ï¼Œç”Ÿæˆä¸€æ¬¡å¤ªæ…¢äº†
2. **å¿…é¡»ä¿ç•™åŸè§†é¢‘ï¼** å…ˆä¿å­˜åŸè§†é¢‘æ–‡ä»¶ï¼Œç„¶åå†æ·»åŠ å­—å¹•ç”Ÿæˆæ–°ç‰ˆæœ¬
3. **å·²ç”Ÿæˆè§†é¢‘çš„ä¸‹è½½æ–¹å¼**: åœ¨ NotebookLM é¡µé¢ç‚¹å‡»è§†é¢‘çš„ **ä¸‰ä¸ªç‚¹å›¾æ ‡ â†’ Download**
4. **å°é¢å¿…é¡»æ˜¯ 3:4 æ¯”ä¾‹ï¼** ä½¿ç”¨è„šæœ¬ä¸“é—¨ç”Ÿæˆï¼Œ**ç¦æ­¢ä»è§†é¢‘æˆªå–**
5. **å‘å¸ƒæ—¶è®¾ä¸º"å…¬å¼€å¯è§"ï¼** ç›´æ¥å…¬å¼€å‘å¸ƒ
6. **è§‚ç‚¹å½’å±å¿…é¡»æ˜ç¡®ï¼** é«˜ä¼°/ä½ä¼°æ˜¯æ–‡ç« è§‚ç‚¹ï¼Œä¸æ˜¯æˆ‘ä»¬çš„è§‚ç‚¹
7. **ä¸ç»™æŠ•èµ„å»ºè®®ï¼** æˆ‘ä»¬åªåšä¿¡æ¯æ•´ç†ï¼Œä¸åšä¹°å–æ¨è

---

## âš ï¸ å†…å®¹åˆè§„è§„åˆ™ï¼ˆå°çº¢ä¹¦å¿…è¯»ï¼‰

### 1. æ•æ„Ÿè¯é¢˜ï¼ˆå¿…é¡»åˆ é™¤ï¼‰ ğŸš«

| ç±»åˆ« | æ•æ„Ÿè¯é¢˜ |
|------|----------|
| **åœ°ç¼˜æ”¿æ²»** | å°æµ·ã€å°æ¹¾ã€ä¸­ç¾è„±é’©ã€åˆ¶è£ã€è´¸æ˜“æˆ˜ã€èŠ¯ç‰‡ç¦ä»¤ |
| **æ”¿æ²»æ•æ„Ÿ** | é¦™æ¸¯ã€è¥¿è—ã€æ–°ç–†ã€å›½å®¶é¢†å¯¼äºº |
| **å†›äº‹ç›¸å…³** | å†›å·¥è‚¡æ¶‰åŠä¸­å›½å¨èƒè®ºã€å—æµ·ã€å†›äº‹å†²çª |

**å¦‚æœè§†é¢‘ä¸­åŒ…å«è¿™äº›å†…å®¹ï¼Œå¿…é¡»åœ¨å­—å¹•/æè¿°ä¸­åˆ é™¤æˆ–ç”¨ä¸­æ€§è¯æ›¿æ¢ï¼**

### 2. è§‚ç‚¹å½’å±è§„åˆ™ ğŸ“

**å…³äºé«˜ä¼°/ä½ä¼°ã€ç›®æ ‡ä»·ç­‰è¡¨è¿°ï¼š**

| âŒ ç¦æ­¢ | âœ… æ­£ç¡® |
|--------|--------|
| è¯¥è‚¡è¢«ä½ä¼° 75% | **æ®åˆ†ææ–‡ç« **ï¼Œè¯¥è‚¡è¢«ä½ä¼° 75% |
| ç›®æ ‡ä»· $150 | **åŸæ–‡ç»™å‡ºçš„**ç›®æ ‡ä»·ä¸º $150 |
| å»ºè®®ä¹°å…¥ | **æ–‡ç« è§‚ç‚¹**çœ‹å¤šè¯¥è‚¡ |

### 3. æ ‡é¢˜/æè¿°è§„èŒƒ

**æ ‡é¢˜æ ¼å¼ï¼ˆå›ºå®šï¼‰ï¼š**
```
ç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | YYYY.MM.DD
```

**ç¤ºä¾‹ï¼š**
- âœ… `ç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | 2026.01.27`
- âœ… `ç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | 2026.01.28`
- âŒ `IRDMä½ä¼°75%å¿«ä¹°ï¼`ï¼ˆç¦æ­¢æŠ•èµ„å»ºè®®ï¼‰
- âŒ `æ®åˆ†æNVOå‡è‚¥è¯é¾™å¤´`ï¼ˆä¸è¦ç”¨å…¶ä»–æ ¼å¼ï¼‰

**æè¿°å¿…é¡»åŒ…å«å…è´£å£°æ˜ï¼š**
```
âš ï¸ å…è´£å£°æ˜ï¼šæœ¬è§†é¢‘æ‰€æœ‰è§‚ç‚¹å‡æ¥è‡ªåŸå§‹åˆ†ææ–‡ç« ï¼Œä¸ä»£è¡¨æœ¬è´¦å·ç«‹åœºã€‚
æˆ‘ä»¬ä¸å¯¹ä»»ä½•è‚¡ç¥¨åšé«˜ä¼°/ä½ä¼°åˆ¤æ–­ï¼Œä¹Ÿä¸æä¾›æŠ•èµ„å»ºè®®ã€‚æŠ•èµ„æœ‰é£é™©ï¼Œè¯·è°¨æ…å†³ç­–ã€‚
```

### 4. å°é¢æ–‡å­—è§„èŒƒ

å°é¢ä¸Šå¦‚æœæœ‰"ä½ä¼° XX%"ç­‰æ–‡å­—ï¼Œå‰é¢åŠ ä¸Š"æ®åˆ†æ"æˆ–ç”¨é—®å·ï¼š
- âœ… `æ®åˆ†æï¼šä½ä¼° 75%`
- âœ… `ä½ä¼° 75%ï¼Ÿ`
- âŒ `ä½ä¼° 75%ï¼`ï¼ˆæ˜¾å¾—åƒæˆ‘ä»¬çš„è§‚ç‚¹ï¼‰

## å®Œæ•´å·¥ä½œæµç¨‹

### 1. ä¸‹è½½ NotebookLM è§†é¢‘
```
âš ï¸ å…ˆæ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ Video Overviewï¼

å¦‚æœå·²å­˜åœ¨ï¼š
1. ç‚¹å‡»è§†é¢‘å³ä¸Šè§’çš„ **ä¸‰ä¸ªç‚¹å›¾æ ‡ï¼ˆâ‹®ï¼‰**
2. é€‰æ‹© **Download** ä¸‹è½½

å¦‚æœä¸å­˜åœ¨æ‰ç”Ÿæˆï¼š
1. ç‚¹å‡» Video Overview ç”Ÿæˆè§†é¢‘
2. ç­‰å¾…ç”Ÿæˆå®Œæˆï¼ˆ5-15åˆ†é’Ÿï¼‰
3. ç‚¹å‡» More â†’ Download ä¸‹è½½ webm æ–‡ä»¶

æ— è®ºå“ªç§æ–¹å¼ï¼Œ**å¿…é¡»ä¿å­˜åŸå§‹è§†é¢‘åˆ° ~/clawd/newsletters/YYYY-MM-DD-video.webm**
```

### 2. è½¬æ¢è§†é¢‘æ ¼å¼
```bash
# webm è½¬ mp4
ffmpeg -i input.webm -c:v libx264 -c:a aac output.mp4
```

### 3. è£å‰ªè§†é¢‘ï¼ˆå»æ‰æœ«å°¾ 2.5s NotebookLM æ°´å°ï¼‰
```bash
# è·å–è§†é¢‘æ—¶é•¿
duration=$(ffprobe -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 input.mp4)

# è£å‰ª
ffmpeg -y -i input.mp4 -t $(echo "$duration - 2.5" | bc) -c copy trimmed.mp4
```

### 4. è¯­éŸ³è½¬æ–‡å­—ï¼ˆGroq Whisperï¼‰
```bash
curl -X POST "https://api.groq.com/openai/v1/audio/transcriptions" \
  -H "Authorization: Bearer $GROQ_API_KEY" \
  -F file="@trimmed.mp4" \
  -F model="whisper-large-v3-turbo" \
  -F response_format="verbose_json" \
  -F language="en"
```

### 5. ç¿»è¯‘ä¸ºä¸­æ–‡ï¼ˆGoogle Translateï¼‰
```python
from deep_translator import GoogleTranslator
translator = GoogleTranslator(source='en', target='zh-CN')
chinese = translator.translate(english_text)
```

### 6. ç”Ÿæˆä¸­è‹±åŒè¯­ SRT å­—å¹•

#### âš ï¸ å­—å¹•åˆ†è¡Œè§„åˆ™ï¼ˆé‡è¦ï¼ï¼‰
å‚è€ƒ `/Users/xuemeizhao/Downloads/add-caption/video_processor.py`:
- **ä¸­æ–‡å­—å¹•**: æ¯è¡Œæœ€å¤š **15 ä¸ªå­—ç¬¦**
- **è‹±æ–‡å­—å¹•**: æ¯è¡Œæœ€å¤š **10 ä¸ªå•è¯**
- åˆ†å‰²ä¼˜å…ˆä½ç½®: é€—å·ã€é¡¿å·ã€ç©ºæ ¼ã€"çš„"ã€"äº†"ã€è¿è¯ï¼ˆand/or/butï¼‰

```python
# ä¸­æ–‡åˆ†è¡Œ
def split_chinese(text, max_length=15):
    break_chars = ['ï¼Œ', 'ã€', ' ', 'çš„', 'äº†']
    # åœ¨ max_length é™„è¿‘æ‰¾æ–­ç‚¹

# è‹±æ–‡åˆ†è¡Œ
def split_english(text, max_words=10):
    break_punctuation = [',', ';', ':', ' and ', ' or ', ' but ']
    # åœ¨ max_words é™„è¿‘æ‰¾æ–­ç‚¹
```

#### SRT æ ¼å¼ç¤ºä¾‹
```
1
00:00:00,000 --> 00:00:05,000
English text here
ä¸­æ–‡ç¿»è¯‘åœ¨è¿™é‡Œ
```

### 7. çƒ§å½•å­—å¹• + Logo æ°´å°
```bash
LOGO="/Users/xuemeizhao/Downloads/add-caption/assets/100bagersclub_logo.png"
SRT="video_bilingual.srt"

ffmpeg -y \
  -i input.mp4 \
  -i "$LOGO" \
  -filter_complex "[1:v]scale=-1:40[wm];[0:v][wm]overlay=W-w-15:H-h-15[v];[v]subtitles=${SRT}:charenc=UTF-8:force_style='FontName=Noto Sans CJK SC,FontSize=24,PrimaryColour=&HFFFFFF&,OutlineColour=&H000000&,BorderStyle=3,Outline=2,Shadow=1,Bold=1'[outv]" \
  -map "[outv]" \
  -map 0:a \
  -c:a copy \
  output.mp4
```

### 8. ç”Ÿæˆå°é¢å›¾ï¼ˆâš ï¸ å¿…é¡»ä¸“é—¨ç”Ÿæˆï¼ï¼‰

**âš ï¸ é‡è¦è§„åˆ™ï¼š**
- **å°é¢å¿…é¡»ä½¿ç”¨è„šæœ¬ä¸“é—¨ç”Ÿæˆï¼Œç¦æ­¢ä»è§†é¢‘æˆªå–ï¼**
- **æ¯”ä¾‹å¿…é¡»æ˜¯ 3:4**ï¼ˆç«–ç‰ˆï¼Œå°çº¢ä¹¦æ¨èæ ¼å¼ï¼‰
- **é£æ ¼è¦ç»Ÿä¸€**ï¼Œä¿æŒå“ç‰Œä¸€è‡´æ€§

#### å°é¢è§„æ ¼
| å±æ€§ | è¦æ±‚ |
|------|------|
| **æ¯”ä¾‹** | **3:4**ï¼ˆç«–ç‰ˆï¼‰ |
| **å°ºå¯¸** | 1080 x 1440 px æˆ– 1242 x 1660 px |
| **æ ¼å¼** | JPG |
| **é£æ ¼** | **é‡‘è‰²æ¨¡æ¿ï¼ˆcover3-goldï¼‰** - æ·±è‰²èƒŒæ™¯ + é‡‘è‰²è¾¹æ¡†/é«˜äº® + ç»¿è‰²è‚¡ç¥¨ä»£ç  |
| **å†…å®¹** | æ—¥æœŸ + "âœ¨ ä»Šæ—¥çƒ­ç‚¹åˆ†æ âœ¨" + Top 3 è‚¡ç¥¨å¡ç‰‡ |
| **æ–‡ä»¶å** | **YYYY-MM-DD-cover-xhs.jpg** |

#### å°é¢æ¨¡æ¿å‚è€ƒ
![é‡‘è‰²æ¨¡æ¿](covers-2026-01-27/cover3-gold.jpg)

**æ¨¡æ¿æ ·å¼è¦ç‚¹ï¼š**
- é¡¶éƒ¨ï¼šé»„è‰²æ–¹å— + "ç¾è‚¡æ—¥æŠ¥" + æ—¥æœŸ
- æ ‡é¢˜ï¼š"âœ¨ ä»Šæ—¥çƒ­ç‚¹åˆ†æ âœ¨"ï¼ˆé‡‘è‰²ï¼‰
- ä¸‰ä¸ªè‚¡ç¥¨å¡ç‰‡ï¼ˆå¸¦é‡‘è‰²è¾¹æ¡†ï¼‰ï¼š
  - åºå·ï¼ˆ01/02/03ï¼‰+ è‚¡ç¥¨ä»£ç ï¼ˆç»¿è‰²ï¼‰
  - æ ‡é¢˜ï¼ˆç™½è‰²ç²—ä½“ï¼‰
  - é«˜äº®æ ‡ç­¾ï¼ˆå¸¦ emojiï¼‰
- åº•éƒ¨ï¼š"ğŸ’¡ æ¯æ—¥æŠ•èµ„æ´å¯Ÿ Â· ä¿¡æ¯æ•´ç†" + å…è´£å£°æ˜

#### ç”Ÿæˆæ–¹æ³•

**æ–¹æ³• 1: ä½¿ç”¨ Python è„šæœ¬ï¼ˆæ¨èï¼‰**
```python
from generate_cover import generate_cover

items = [
    {'ticker': 'IRDM', 'title': 'å…¨çƒå”¯ä¸€å«æ˜Ÿç½‘ç»œå„æ–­è€…', 'highlight': 'ğŸ“‰ ä½ä¼° 75%'},
    {'ticker': 'ASML', 'title': 'EUVå…‰åˆ»æœºé¾™å¤´', 'highlight': 'ğŸ“ˆ 5ä¸ªæœˆç¿»å€'},
    {'ticker': 'GOLD', 'title': 'é»„é‡‘å†å²æ€§çªç ´', 'highlight': 'ğŸ’° çªç ´ $5000'},
]

cover_path = generate_cover('~/clawd/newsletters', '2026-01-26', items)
```

**æ–¹æ³• 2: å‘½ä»¤è¡Œ**
```bash
python ~/clawd/skills/xiaohongshu-publish/generate_cover.py \
  ~/clawd/newsletters 2026-01-26
```

**æ–¹æ³• 3: æµè§ˆå™¨æ¸²æŸ“ HTML æ¨¡æ¿**
```bash
# 1. ç¼–è¾‘ HTML æ¨¡æ¿
open ~/clawd/skills/xiaohongshu-publish/templates/cover.html

# 2. ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œè®¾ç½®è§†å£ä¸º 1080x1440 æˆ– 1242x1660
# 3. æˆªå›¾ä¿å­˜ä¸º JPG
```

#### è¾“å‡ºæ–‡ä»¶
- `YYYY-MM-DD-cover-xhs.jpg` - å°é¢å›¾ç‰‡ï¼ˆ3:4 æ¯”ä¾‹ï¼Œé‡‘è‰²æ¨¡æ¿ï¼‰

#### å°é¢ä¸Šä¼ åˆ°å°çº¢ä¹¦

å°çº¢ä¹¦çš„å°é¢ä¸Šä¼  input é»˜è®¤éšè—ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†ï¼š

```javascript
// 1. ç‚¹å‡» "è®¾ç½®å°é¢" æŒ‰é’®æ‰“å¼€å¯¹è¯æ¡†

// 2. ä¿®æ”¹å°é¢æ¯”ä¾‹ä¸º 3:4
// ç‚¹å‡»"å°é¢æ¯”ä¾‹"ä¸‹æ‹‰æ¡† â†’ é€‰æ‹© "3:4"

// 3. ç‚¹å‡» "ä¸Šä¼ å›¾ç‰‡" æŒ‰é’®ä¸Šä¼ å°é¢
// æˆ–ï¼šè®©éšè—çš„ input å¯è§åç”¨ upload action

// 4. ç‚¹å‡»"ç¡®å®š"ä¿å­˜å°é¢
```

**ä¸Šä¼ æˆåŠŸæ ‡å¿—**ï¼šçœ‹åˆ° "å°é¢æ•ˆæœè¯„ä¼°é€šè¿‡ï¼Œæœªå‘ç°å°é¢è´¨é‡é—®é¢˜"

### 9. ç”Ÿæˆå‘å¸ƒæ–‡æ¡ˆ xhs-post.mdï¼ˆâš ï¸ å¿…é¡»ç”Ÿæˆï¼ï¼‰

**âš ï¸ è¿™ä¸€æ­¥æ˜¯å‘å¸ƒçš„å‰ç½®æ¡ä»¶ï¼å¿…é¡»åœ¨å‘å¸ƒå‰å®Œæˆï¼**

æ ¹æ®å½“æ—¥è‚¡ç¥¨æ‘˜è¦ï¼ˆ`YYYY-MM-DD-stocks-highlights.md`ï¼‰ç”Ÿæˆå°çº¢ä¹¦å‘å¸ƒæ–‡æ¡ˆã€‚

#### æ–‡æ¡ˆæ ¼å¼æ¨¡æ¿

```markdown
ğŸ“ˆ ç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | YYYY.MM.DD

ä»Šæ—¥Xå¤§çƒ­è‚¡é€Ÿè§ˆ ğŸ‘‡

1ï¸âƒ£ [å…¬å¸å] $[è‚¡ç¥¨ä»£ç ] ğŸ”¥ğŸ”¥ğŸ”¥
[ä¸€å¥è¯æ¦‚æ‹¬]
â€¢ [è¦ç‚¹1]
â€¢ [è¦ç‚¹2]
â€¢ [è¦ç‚¹3ï¼ˆå¦‚æœ‰ï¼‰]

2ï¸âƒ£ [å…¬å¸å] $[è‚¡ç¥¨ä»£ç ] ğŸ”¥ğŸ”¥
[ä¸€å¥è¯æ¦‚æ‹¬]
â€¢ [è¦ç‚¹1]
â€¢ [è¦ç‚¹2]

...ï¼ˆæ›´å¤šè‚¡ç¥¨ï¼‰

âš ï¸ å…è´£å£°æ˜ï¼šä»¥ä¸Šè§‚ç‚¹å‡æ¥è‡ª Grok/OpenAI åŸå§‹åˆ†æï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ï¼æŠ•èµ„æœ‰é£é™©ï¼Œè¯·è‡ªè¡Œç ”ç©¶å†³ç­–ã€‚

---
#ç¾è‚¡ #è‚¡ç¥¨ #æŠ•èµ„ç†è´¢ #[ç›¸å…³æ ‡ç­¾] #æ¯æ—¥å¤ç›˜
```

#### ç”Ÿæˆæ­¥éª¤

```bash
# 1. è¯»å–è‚¡ç¥¨æ‘˜è¦
cat ~/clawd/newsletters/YYYY-MM-DD-stocks-highlights.md

# 2. æ ¹æ®æ‘˜è¦æå–å…³é”®ä¿¡æ¯ï¼Œç”Ÿæˆæ–‡æ¡ˆ
# 3. ä¿å­˜åˆ° xhs-post.md
```

#### ç¤ºä¾‹è¾“å‡º

```markdown
ğŸ“ˆ ç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | 2026.01.27

ä»Šæ—¥5å¤§çƒ­è‚¡é€Ÿè§ˆ ğŸ‘‡

1ï¸âƒ£ Novo Nordisk $NVO ğŸ”¥ğŸ”¥ğŸ”¥
å‡è‚¥è¯é¾™å¤´è´¢æŠ¥å‰ç»
â€¢ å£æœ Wegovy é¦–å‘ç ´ 1.8 ä¸‡å¼ å¤„æ–¹ï¼
â€¢ ç¾å›½äº§èƒ½ 2026 å¹´ä¸­ç¿»å€
â€¢ åˆ†æå¸ˆï¼š12-16 æœˆæ½œåœ¨ 52% ä¸Šæ¶¨ç©ºé—´

2ï¸âƒ£ Apple $AAPL ğŸ”¥ğŸ”¥ğŸ”¥
iPhone éœ€æ±‚å¼ºåŠ² + è´¢æŠ¥å‘¨
â€¢ S&P 500 ç›®æ ‡ 7000 ç‚¹
â€¢ iPhone é¢„æœŸå‡ºè´§ 84-90M å°
â€¢ å†å²è§„å¾‹ï¼šç±»ä¼¼æ—¶æœŸå¹³å‡æ¶¨ 17%

...

âš ï¸ å…è´£å£°æ˜ï¼šä»¥ä¸Šè§‚ç‚¹å‡æ¥è‡ª Grok/OpenAI åŸå§‹åˆ†æï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ï¼æŠ•èµ„æœ‰é£é™©ï¼Œè¯·è‡ªè¡Œç ”ç©¶å†³ç­–ã€‚

---
#ç¾è‚¡ #è‚¡ç¥¨ #æŠ•èµ„ç†è´¢ #å‡è‚¥è¯ #NVO #Apple #è‹¹æœ #AI #ç§‘æŠ€è‚¡ #æ¯æ—¥å¤ç›˜
```

#### è¾“å‡ºæ–‡ä»¶
- `YYYY-MM-DD-xhs-post.md` - å°çº¢ä¹¦å‘å¸ƒæ–‡æ¡ˆï¼ˆ**å‘å¸ƒè„šæœ¬ä¼šè¯»å–æ­¤æ–‡ä»¶ï¼**ï¼‰

#### è§„åˆ™è¦ç‚¹
1. **ğŸ”¥ ç«ç„°æ•°é‡**ï¼šæœ€é‡è¦çš„ 3 ä¸ª ğŸ”¥ğŸ”¥ğŸ”¥ï¼Œæ¬¡é‡è¦ 2 ä¸ª ğŸ”¥ğŸ”¥ï¼Œæ™®é€š 1 ä¸ª ğŸ”¥
2. **è¦ç‚¹ç²¾ç‚¼**ï¼šæ¯ä¸ªè¦ç‚¹ â‰¤ 20 å­—
3. **è‚¡ç¥¨ä»£ç **ï¼šä½¿ç”¨ $ å‰ç¼€ï¼ˆå¦‚ $NVOï¼‰
4. **å…è´£å£°æ˜**ï¼šå¿…é¡»åŒ…å«ï¼
5. **è¯é¢˜æ ‡ç­¾**ï¼šåŒ…å«ç›¸å…³è‚¡ç¥¨ä»£ç å’Œä¸»é¢˜

### 10. å‘å¸ƒåˆ°å°çº¢ä¹¦
```
1. æ‰“å¼€ https://creator.xiaohongshu.com/publish/publish
2. ä¸Šä¼ å¤„ç†åçš„è§†é¢‘ï¼ˆYYYY-MM-DD-video-with-subs.mp4ï¼‰
3. **ä¸Šä¼ å°é¢å›¾ï¼** 
   - ç‚¹å‡»"è®¾ç½®å°é¢" â†’ é€‰æ‹©æ¯”ä¾‹ 3:4 â†’ "ä¸Šä¼ å›¾ç‰‡"
   - é€‰æ‹© YYYY-MM-DD-cover-xhs.jpgï¼ˆé‡‘è‰²æ¨¡æ¿ï¼‰
   - ç‚¹å‡»"ç¡®å®š"
4. å¡«å†™æ ‡é¢˜ï¼š**ç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | YYYY.MM.DD**ï¼ˆå›ºå®šæ ¼å¼ï¼ï¼‰
5. å¡«å†™æ­£æ–‡æè¿°ï¼ˆå«å…è´£å£°æ˜ï¼‰
6. è®¾ç½®å¯è§èŒƒå›´ä¸º"å…¬å¼€å¯è§"
7. ç‚¹å‡»å‘å¸ƒ
```

---

## ğŸ¤– æµè§ˆå™¨è‡ªåŠ¨åŒ–å‘å¸ƒæŒ‡å—ï¼ˆClawdbotï¼‰

### âš ï¸ å¼ºåˆ¶è§„åˆ™ï¼ˆæ¯æ¬¡å‘å¸ƒå¿…é¡»éµå®ˆï¼ï¼‰

1. **å°é¢å›¾å¿…é¡»ä½¿ç”¨é¢„ç”Ÿæˆçš„å°é¢ï¼**
   - æ–‡ä»¶ï¼š`~/clawd/newsletters/YYYY-MM-DD-cover-xhs.jpg`
   - **ç¦æ­¢è·³è¿‡å°é¢ä¸Šä¼ æ­¥éª¤ï¼**
   - **ç¦æ­¢ä½¿ç”¨è§†é¢‘æˆªå›¾ä½œä¸ºå°é¢ï¼**

2. **æ­£æ–‡å†…å®¹å¿…é¡»ä½¿ç”¨ xhs-post.mdï¼**
   - æ–‡ä»¶ï¼š`~/clawd/newsletters/YYYY-MM-DD-xhs-post.md`
   - **å¿…é¡»è¯»å–æ­¤æ–‡ä»¶å†…å®¹å¹¶å¡«å…¥æ­£æ–‡ï¼**
   - **ç¦æ­¢è‡ªè¡Œç¼–å†™æ­£æ–‡å†…å®¹ï¼**

3. **å¿…é¡»ä½¿ç”¨ stealth åæ£€æµ‹è„šæœ¬ï¼**
   - è„šæœ¬ï¼š`/Users/xuemeizhao/Downloads/add-caption/social_uploader/utils/stealth.min.js`
   - **åœ¨æ¯æ¬¡ browser.open åç«‹å³æ³¨å…¥ï¼**

---

### åæœºå™¨äººæ£€æµ‹é…ç½®ï¼ˆâš ï¸ å¿…é¡»æ‰§è¡Œï¼ï¼‰

å°çº¢ä¹¦æœ‰åè‡ªåŠ¨åŒ–æ£€æµ‹ï¼Œå¿…é¡»æ³¨å…¥ stealth è„šæœ¬ç»•è¿‡ï¼š

**æ–¹æ³• 1: ä½¿ç”¨ç²¾ç®€ç‰ˆ stealthï¼ˆæ¨èï¼Œä»£ç è¾ƒçŸ­ï¼‰**

ç›´æ¥ç”¨ browser evaluate æ³¨å…¥ï¼š
```javascript
browser.act(action="act", request={
  kind: "evaluate",
  fn: `
(function() {
  // éšè— webdriver æ ‡è®°
  Object.defineProperty(navigator, 'webdriver', { get: () => undefined });
  
  // æ¨¡æ‹Ÿ Chrome runtime
  window.chrome = {
    runtime: {},
    loadTimes: function() {},
    csi: function() {},
    app: { isInstalled: false }
  };
  
  // ä¼ªè£… navigator
  Object.defineProperty(navigator, 'plugins', { get: () => [1,2,3,4,5] });
  Object.defineProperty(navigator, 'languages', { get: () => ['zh-CN','zh','en'] });
  
  // éšè—è‡ªåŠ¨åŒ–ç—•è¿¹
  const origQuery = navigator.permissions.query;
  navigator.permissions.query = (p) => p.name === 'notifications' 
    ? Promise.resolve({state: Notification.permission}) : origQuery(p);
  
  console.log('[Stealth] Applied');
})();
  `
})
```

**æ–¹æ³• 2: ä½¿ç”¨å®Œæ•´ç‰ˆ stealth.min.jsï¼ˆæ›´å…¨é¢ï¼‰**

```bash
# æ–‡ä»¶ä½ç½®
/Users/xuemeizhao/Downloads/add-caption/social_uploader/utils/stealth.min.js

# ç”±äºæ–‡ä»¶è¾ƒå¤§(180KB)ï¼Œéœ€è¦é€šè¿‡ exec è¯»å–åç”¨ browser evaluate æ³¨å…¥
```

**Stealth è„šæœ¬æä¾›çš„ä¿æŠ¤ï¼š**
| æŠ€æœ¯ | ä½œç”¨ |
|------|------|
| navigator.webdriver | éšè—è‡ªåŠ¨åŒ–æ ‡è®° |
| chrome.app æ¨¡æ‹Ÿ | æ¨¡æ‹ŸçœŸå® Chrome çš„ window.chrome.app |
| chrome.runtime æ¨¡æ‹Ÿ | æ¨¡æ‹Ÿ Chrome æ‰©å±•è¿è¡Œæ—¶ API |
| navigator.plugins | ä¼ªè£…æ’ä»¶åˆ—è¡¨ |
| navigator.languages | ä¼ªè£…è¯­è¨€è®¾ç½® |
| permissions.query | ä¿®å¤æƒé™æŸ¥è¯¢è¡Œä¸º |

---

### æˆåŠŸç»éªŒæ€»ç»“

#### 1. è§†é¢‘ä¸Šä¼ 
```javascript
// è§†é¢‘ä¸Šä¼  input çš„ selector
selector: 'input[type="file"][accept*=".mp4"]'
// æˆ–ç›´æ¥ç”¨ button ref
ref: "Choose File" button

// ä½¿ç”¨ browser upload action
browser.upload(ref=è§†é¢‘æŒ‰é’®ref, paths=[è§†é¢‘è·¯å¾„])
```

#### 2. å°é¢ä¸Šä¼ ï¼ˆâš ï¸ å¿…é¡»æ‰§è¡Œï¼ï¼‰

**âš ï¸ å¿…é¡»ä½¿ç”¨é¢„ç”Ÿæˆçš„å°é¢æ–‡ä»¶ï¼š`YYYY-MM-DD-cover-xhs.jpg`**

**é—®é¢˜ï¼š** å°çº¢ä¹¦çš„å°é¢ä¸Šä¼  input é»˜è®¤æ˜¯éšè—çš„ (display: none)

**è§£å†³æ–¹æ¡ˆï¼š**
```javascript
// æ­¥éª¤ 1: ç‚¹å‡»"è®¾ç½®å°é¢"æŒ‰é’®æ‰“å¼€å¯¹è¯æ¡†
browser.act(click, ref="è®¾ç½®å°é¢")

// æ­¥éª¤ 2: é€‰æ‹©æ¯”ä¾‹ 3:4
browser.act(click, ref="å°é¢æ¯”ä¾‹ä¸‹æ‹‰æ¡†")  // æ˜¾ç¤º "4:3"
browser.act(click, ref="3:4é€‰é¡¹")

// æ­¥éª¤ 3: ç‚¹å‡»"ä¸Šä¼ å›¾ç‰‡"æŒ‰é’®ï¼Œè®©éšè—çš„ input å˜å¯è§
browser.act(click, ref="ä¸Šä¼ å›¾ç‰‡")

// æ­¥éª¤ 4: ç”¨ JavaScript å¼ºåˆ¶è®© input å¯è§
browser.evaluate(() => {
  const imgInput = document.querySelector('input[type="file"][accept*="image"]');
  if (imgInput) {
    imgInput.style.display = 'block';
    imgInput.style.opacity = '1';
    imgInput.style.position = 'relative';
    imgInput.style.zIndex = '9999';
  }
})

// æ­¥éª¤ 5: æ‰¾åˆ° "Choose File" æŒ‰é’®çš„ refï¼Œç”¨å®ƒä¸Šä¼ 
// âš ï¸ å¿…é¡»ä½¿ç”¨é¢„ç”Ÿæˆçš„å°é¢ï¼š~/clawd/newsletters/YYYY-MM-DD-cover-xhs.jpg
browser.upload(ref="Choose FileæŒ‰é’®ref", paths=["/Users/xuemeizhao/clawd/newsletters/YYYY-MM-DD-cover-xhs.jpg"])

// æ­¥éª¤ 6: ç­‰å¾… 3 ç§’è®©å›¾ç‰‡åŠ è½½
sleep 3

// æ­¥éª¤ 7: ç‚¹å‡»"ç¡®å®š"ä¿å­˜å°é¢
browser.act(click, ref="ç¡®å®š")
```

**æˆåŠŸæ ‡å¿—ï¼š**
- çœ‹åˆ°å°é¢é¢„è§ˆæ˜¾ç¤ºé‡‘è‰²æ¨¡æ¿
- æ˜¾ç¤º "å°é¢æ•ˆæœè¯„ä¼°é€šè¿‡ï¼Œæœªå‘ç°å°é¢è´¨é‡é—®é¢˜"

#### 3. æ ‡é¢˜è®¾ç½®
```javascript
// æ ‡é¢˜å›ºå®šæ ¼å¼ï¼šç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | YYYY.MM.DD
browser.evaluate(() => {
  const input = document.querySelector('input[placeholder*="æ ‡é¢˜"]');
  if (input) {
    input.value = 'ç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | 2026.01.27';  // æ›¿æ¢ä¸ºå®é™…æ—¥æœŸ
    input.dispatchEvent(new Event('input', { bubbles: true }));
  }
})
```

#### 4. æ­£æ–‡è®¾ç½®ï¼ˆâš ï¸ å¿…é¡»ä½¿ç”¨ xhs-post.mdï¼ï¼‰

**âš ï¸ å¿…é¡»è¯»å–å¹¶ä½¿ç”¨ `~/clawd/newsletters/YYYY-MM-DD-xhs-post.md` çš„å†…å®¹ï¼**

```javascript
// æ­¥éª¤ 1: å…ˆç”¨ read å·¥å…·è¯»å– xhs-post.md å†…å®¹
// read("/Users/xuemeizhao/clawd/newsletters/2026-01-27-xhs-post.md")

// æ­¥éª¤ 2: å°†è¯»å–çš„å†…å®¹å¡«å…¥æ­£æ–‡
browser.evaluate(() => {
  const textarea = document.querySelector('.ql-editor') || 
                   document.querySelector('[contenteditable="true"]') ||
                   document.querySelector('textarea[placeholder*="æè¿°"]');
  if (textarea) {
    // ä½¿ç”¨ xhs-post.md çš„å®Œæ•´å†…å®¹ï¼ˆä¸è¦è‡ªå·±ç¼–å†™ï¼ï¼‰
    const content = `ğŸ“ˆ ç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | 2026.01.27

ä»Šæ—¥5å¤§çƒ­è‚¡é€Ÿè§ˆ ğŸ‘‡

1ï¸âƒ£ Novo Nordisk $NVO ğŸ”¥ğŸ”¥ğŸ”¥
...
ï¼ˆå®Œæ•´å†…å®¹æ¥è‡ª xhs-post.mdï¼‰
`;
    
    if (textarea.tagName === 'TEXTAREA') {
      textarea.value = content;
    } else {
      textarea.innerHTML = content.replace(/\n/g, '<br>');
    }
    textarea.dispatchEvent(new Event('input', { bubbles: true }));
  }
})
```

**ç¦æ­¢è¡Œä¸ºï¼š**
- âŒ è‡ªå·±ç¼–å†™æ­£æ–‡å†…å®¹
- âŒ åªå¡«å†™éƒ¨åˆ†å†…å®¹
- âŒ è·³è¿‡æ­£æ–‡å¡«å†™æ­¥éª¤

#### 5. å‘å¸ƒæŒ‰é’®ï¼ˆå¤šç§æ–¹æ³•å°è¯•ï¼‰

**æ–¹æ³• 1: ç›´æ¥ç‚¹å‡»ï¼ˆstealth æ³¨å…¥åï¼‰**
```javascript
browser.act(click, ref="å‘å¸ƒæŒ‰é’®ref")
```

**æ–¹æ³• 2: æ¨¡æ‹ŸçœŸå®é¼ æ ‡äº‹ä»¶**
```javascript
browser.evaluate(() => {
  const btn = Array.from(document.querySelectorAll('button'))
    .find(b => b.textContent.includes('å‘å¸ƒ'));
  if (btn) {
    const rect = btn.getBoundingClientRect();
    ['mousedown', 'mouseup', 'click'].forEach(type => {
      btn.dispatchEvent(new MouseEvent(type, {
        bubbles: true,
        cancelable: true,
        view: window,
        clientX: rect.left + rect.width / 2,
        clientY: rect.top + rect.height / 2
      }));
    });
  }
})
```

**æ–¹æ³• 3: è§¦å‘ React å†…éƒ¨äº‹ä»¶**
```javascript
browser.evaluate(() => {
  const btn = document.querySelector('button.css-k3lmfk, button.publishBtn, button[class*="publish"]') ||
              Array.from(document.querySelectorAll('button')).find(b => b.textContent.includes('å‘å¸ƒ'));
  if (btn) {
    // æ‰¾ React fiber
    const key = Object.keys(btn).find(k => k.startsWith('__reactFiber') || k.startsWith('__reactInternalInstance'));
    if (key) {
      const fiber = btn[key];
      const onClick = fiber.memoizedProps?.onClick || fiber.pendingProps?.onClick;
      if (onClick) onClick({stopPropagation: ()=>{}, preventDefault: ()=>{}});
    } else {
      btn.click();
    }
  }
})
```

**æ–¹æ³• 4: é”®ç›˜æäº¤**
```javascript
// å°è¯• Enter é”®æäº¤
browser.act(action="act", request={kind: "press", key: "Enter"})
```

**å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½å¤±è´¥ï¼Œæœ€åæ‰‹æ®µï¼šæ‰‹åŠ¨ç‚¹å‡»**
- æ‰“å¼€æµè§ˆå™¨çª—å£è®©ç”¨æˆ·æ‰‹åŠ¨ç‚¹å‡»å‘å¸ƒæŒ‰é’®

---

### å®Œæ•´è‡ªåŠ¨åŒ–æµç¨‹ï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆï¼ï¼‰

```
# å‡†å¤‡é˜¶æ®µ
0. è¯»å– xhs-post.md å†…å®¹å¤‡ç”¨
   read("/Users/xuemeizhao/clawd/newsletters/YYYY-MM-DD-xhs-post.md")

# å¯åŠ¨æµè§ˆå™¨
1. browser.start(profile="clawd")
2. browser.open("https://creator.xiaohongshu.com/publish/publish")

# æ³¨å…¥åæ£€æµ‹è„šæœ¬ï¼ˆâš ï¸ å…³é”®æ­¥éª¤ï¼ï¼‰
3. browser.evaluate(æ³¨å…¥ stealth.min.js å†…å®¹)

# ä¸Šä¼ è§†é¢‘
4. browser.upload(è§†é¢‘) - ç­‰å¾…ä¸Šä¼ å®Œæˆ

# ä¸Šä¼ å°é¢ï¼ˆâš ï¸ å¿…é¡»æ‰§è¡Œï¼ä½¿ç”¨é¢„ç”Ÿæˆçš„å°é¢ï¼ï¼‰
5. browser.act(click, "è®¾ç½®å°é¢")
6. browser.act(click, "å°é¢æ¯”ä¾‹") â†’ é€‰æ‹© "3:4"
7. browser.evaluate(è®©å°é¢inputå¯è§)
8. browser.upload(paths=["/Users/xuemeizhao/clawd/newsletters/YYYY-MM-DD-cover-xhs.jpg"])
9. sleep(3)
10. browser.act(click, "ç¡®å®š")

# å¡«å†™æ ‡é¢˜ï¼ˆå›ºå®šæ ¼å¼ï¼‰
11. browser.evaluate(è®¾ç½®æ ‡é¢˜ "ç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | YYYY.MM.DD")

# å¡«å†™æ­£æ–‡ï¼ˆâš ï¸ å¿…é¡»ä½¿ç”¨ xhs-post.md çš„å†…å®¹ï¼ï¼‰
12. browser.evaluate(å¡«å…¥ xhs-post.md çš„å®Œæ•´å†…å®¹)

# å‘å¸ƒ
13. browser.act(click, "å‘å¸ƒ")
```

### æ£€æŸ¥æ¸…å•ï¼ˆæ¯æ¬¡å‘å¸ƒå‰ç¡®è®¤ï¼‰

- [ ] stealth.min.js å·²æ³¨å…¥ï¼Ÿ
- [ ] å°é¢ä½¿ç”¨çš„æ˜¯ YYYY-MM-DD-cover-xhs.jpgï¼Ÿ
- [ ] æ­£æ–‡å†…å®¹æ¥è‡ª YYYY-MM-DD-xhs-post.mdï¼Ÿ
- [ ] æ ‡é¢˜æ ¼å¼æ­£ç¡®ï¼ˆç¾è‚¡çƒ­ç‚¹é€Ÿé€’ | YYYY.MM.DDï¼‰ï¼Ÿ

### æ³¨æ„äº‹é¡¹
- **stealth è„šæœ¬å¿…é¡»åœ¨é¡µé¢åŠ è½½åç«‹å³æ³¨å…¥**
- å°é¢ä¸Šä¼ çš„ input æ˜¯éšè—çš„ï¼Œå¿…é¡»ç”¨ JavaScript è®©å®ƒå¯è§
- æ¯”ä¾‹é€‰æ‹©å™¨ç‚¹å‡»åä¼šå‡ºç°ä¸‹æ‹‰èœå•ï¼Œéœ€è¦å†æ¬¡ç‚¹å‡»é€‰æ‹©
- ä¸Šä¼ æˆåŠŸåç­‰å¾… 3 ç§’è®©å›¾ç‰‡åŠ è½½å®Œæˆ

---

## ğŸ¯ å¿«é€Ÿå‘å¸ƒå‘½ä»¤ï¼ˆå¤åˆ¶å³ç”¨ï¼‰

```bash
# 2026-01-27 å‘å¸ƒç¤ºä¾‹
/Users/xuemeizhao/Downloads/add-caption/venv/bin/python \
  ~/clawd/skills/xiaohongshu-publish/xhs_publisher.py \
  ~/clawd/newsletters/2026-01-27-video-with-subs.mp4 \
  ~/clawd/newsletters/2026-01-27-cover-xhs.jpg \
  ~/clawd/newsletters/2026-01-27-xhs-post.md

# é€šç”¨æ¨¡æ¿ï¼ˆæ›¿æ¢ YYYY-MM-DDï¼‰
/Users/xuemeizhao/Downloads/add-caption/venv/bin/python \
  ~/clawd/skills/xiaohongshu-publish/xhs_publisher.py \
  ~/clawd/newsletters/YYYY-MM-DD-video-with-subs.mp4 \
  ~/clawd/newsletters/YYYY-MM-DD-cover-xhs.jpg \
  ~/clawd/newsletters/YYYY-MM-DD-xhs-post.md
```

## è„šæœ¬æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `xhs_publisher.py` | **ä¸»å‘å¸ƒè„šæœ¬**ï¼ˆæ¨èä½¿ç”¨ï¼‰ |
| `inject_stealth.js` | ç²¾ç®€ç‰ˆ stealth åæ£€æµ‹ä»£ç  |
| `generate_cover.py` | å°é¢ç”Ÿæˆè„šæœ¬ |
| `cookies/xhs_account.json` | è‡ªåŠ¨ä¿å­˜çš„ç™»å½•çŠ¶æ€ |

## ä¾èµ–è¯´æ˜

è„šæœ¬ä½¿ç”¨ add-caption çš„ venv ç¯å¢ƒï¼Œå·²åŒ…å«æ‰€éœ€ä¾èµ–ï¼š
- playwright (æµè§ˆå™¨è‡ªåŠ¨åŒ–)
- stealth.min.js (åæœºå™¨äººæ£€æµ‹)

## æ–‡ä»¶å‘½åè§„èŒƒ

```
~/clawd/newsletters/
â”œâ”€â”€ YYYY-MM-DD-video.webm          # åŸå§‹ NotebookLM è§†é¢‘ï¼ˆå¿…é¡»ä¿å­˜ï¼ï¼‰
â”œâ”€â”€ YYYY-MM-DD-video.mp4           # è½¬æ¢åçš„ mp4
â”œâ”€â”€ YYYY-MM-DD-video_english.srt   # è‹±æ–‡å­—å¹•
â”œâ”€â”€ YYYY-MM-DD-video_bilingual.srt # ä¸­è‹±åŒè¯­å­—å¹•
â”œâ”€â”€ YYYY-MM-DD-video-with-subs.mp4 # æœ€ç»ˆè§†é¢‘ï¼ˆå¸¦å­—å¹•+Logoï¼‰
â”œâ”€â”€ YYYY-MM-DD-cover-xhs.jpg       # å°é¢å›¾ç‰‡ â­ï¼ˆé‡‘è‰²æ¨¡æ¿ï¼‰
â””â”€â”€ YYYY-MM-DD-xhs-post.md         # å‘å¸ƒå†…å®¹æ–‡æ¡ˆ
```

## å®Œæ•´å·¥ä½œæµç¨‹æ¸…å•

```
â–¡ 1. ä¸‹è½½ NotebookLM è§†é¢‘ï¼ˆä¸‰ä¸ªç‚¹å›¾æ ‡ â†’ Downloadï¼Œä¸è¦é‡å¤ç”Ÿæˆï¼ï¼‰
â–¡ 2. ä¿å­˜åŸå§‹è§†é¢‘åˆ° newsletters/
â–¡ 3. è½¬æ¢ webm â†’ mp4
â–¡ 4. è£å‰ªæœ«å°¾ 2.5s
â–¡ 5. è¯­éŸ³è½¬æ–‡å­—ï¼ˆGroq Whisperï¼‰
â–¡ 6. ç¿»è¯‘ä¸ºä¸­æ–‡
â–¡ 7. ç”Ÿæˆ SRT å­—å¹•ï¼ˆä¸­æ–‡â‰¤15å­—ç¬¦ï¼Œè‹±æ–‡â‰¤10å•è¯ï¼‰
â–¡ 8. çƒ§å½•å­—å¹• + Logo æ°´å°
â–¡ 9. ç”Ÿæˆå°é¢å›¾ï¼ˆé‡‘è‰²æ¨¡æ¿ï¼ä¿å­˜ä¸º YYYY-MM-DD-cover-xhs.jpgï¼‰
â–¡ 10. ç”Ÿæˆå‘å¸ƒæ–‡æ¡ˆï¼ˆä¿å­˜ä¸º YYYY-MM-DD-xhs-post.mdï¼‰â­ å…³é”®æ­¥éª¤ï¼
â–¡ 11. å‘å¸ƒåˆ°å°çº¢ä¹¦ï¼ˆä½¿ç”¨ xhs_publisher.py è„šæœ¬ï¼‰
```

## ä¾èµ–

### ffmpegï¼ˆå¿…é¡»å¸¦ libass æ”¯æŒï¼‰
```bash
# å®‰è£…å¸¦å­—å¹•æ”¯æŒçš„ ffmpeg
brew tap homebrew-ffmpeg/ffmpeg
brew install homebrew-ffmpeg/ffmpeg/ffmpeg
```

### Python ä¾èµ–
```bash
pip install groq deep-translator
```

### èµ„æºæ–‡ä»¶
- Logo: `/Users/xuemeizhao/Downloads/add-caption/assets/100bagersclub_logo.png`

## å¤„ç†è„šæœ¬

å®Œæ•´å¤„ç†è„šæœ¬ä½äºï¼š
`~/clawd/skills/xiaohongshu-publish/process_notebooklm.py`

### ä½¿ç”¨æ–¹æ³•
```bash
/Users/xuemeizhao/Downloads/add-caption/venv/bin/python \
  ~/clawd/skills/xiaohongshu-publish/process_notebooklm.py \
  <input_video> \
  <output_dir>
```

## æ³¨æ„äº‹é¡¹

1. **å¿…é¡»ä¿å­˜åŸå§‹è§†é¢‘**ï¼šåœ¨å¤„ç†å‰å…ˆå¤‡ä»½åŸå§‹ webm/mp4 æ–‡ä»¶
2. **å­—å¹•æ ·å¼**ï¼šä½¿ç”¨ Noto Sans CJK SC å­—ä½“ï¼Œç™½è‰²æ–‡å­—é»‘è‰²æè¾¹
3. **Logo ä½ç½®**ï¼šå³ä¸‹è§’ï¼Œè·è¾¹ç¼˜ 15px
4. **å¯è§èŒƒå›´**ï¼šè®¾ä¸º"å…¬å¼€å¯è§"ç›´æ¥å‘å¸ƒ
5. **å°é¢æ¯”ä¾‹**ï¼š**å¿…é¡»æ˜¯ 3:4**ï¼Œä½¿ç”¨è„šæœ¬ç”Ÿæˆï¼Œä¸èƒ½ä»è§†é¢‘æˆªå–

## Groq API

- **API Key**: åœ¨ TOOLS.md ä¸­é…ç½®
- **æ¨¡å‹**: whisper-large-v3-turbo
- **ä»·æ ¼**: $0.04/å°æ—¶ï¼ˆæ¯” OpenAI ä¾¿å®œ 9xï¼‰
